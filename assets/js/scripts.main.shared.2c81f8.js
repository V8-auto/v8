$(document).ready(function(){function o(a,e,t){"hide"===a?$(".alert.dynamic").remove():a&&e&&t&&$("aside#alerts").html('<p class="alert '+e+' dynamic">'+t+"</p>")}$("body").on("change",'[name="billing_freq"]',function(){"yearly"===$('[name="billing_freq"]:checked').val()?($('[data-billing-freq="true"]').html("per month, billed yearly"),$('[data-price="true"]').each(function(){$(this).html($(this).attr("data-yearly-price"))})):($('[data-billing-freq="true"]').html("per month"),$('[data-price="true"]').each(function(){$(this).html($(this).attr("data-monthly-price"))}))}),$("body").on("change",'[name="switch_view"]',function(){$("table").toggleClass("extended_view")}),$("body").on("submit","[data-submit-form]",function(a){a.preventDefault();var t,n,e,i,r,a=$(this).attr("data-submit-form"),s=("contact_form"===a&&(t=$(this).find('label[for="submit"]'),i="contact_form",n="Thank you for your inquiry. Our team will be in touch with you shortly."),t.removeClass("loading"),!1);if($(this).find('[data-validate="required"]').each(function(){$(this).val()?$(this).removeClass("error"):($(this).addClass("error"),s=!0)}),r=$(this).find('[data-validate="email"]').val(),/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(r)?$(this).find('[data-validate="email"]').removeClass("error"):($(this).find('[data-validate="email"]').addClass("error"),s=!0),!0===s)return o("show","error","There were errors. Please amend all fields and try again."),!1;t.addClass("loading"),o("hide");function d(a,e){return{type:"POST",url:"/php/public_ajax_handler.php?type="+i,data:{postArray:JSON.stringify(a)},dataType:"json",error:function(a,e,t){},success:function(a){if(t.removeClass("loading"),1!==a.success)return o("show","error",a.message),!1;o("show","success",n),e&&e()}}}"contact_form"===a?grecaptcha.execute(window.__RECAPTCHA_V3_SITEKEY__,{action:"contact"}).then(function(a){e={name:$(document).find('[name="name"]').val(),email_address:$(document).find('[name="email_address"]').val(),subject:$(document).find('[name="subject"]').val(),message:$(document).find('[name="message"]').val(),token:a};$.ajax(d(e,function(){$(document).find('[name="name"]').val(""),$(document).find('[name="email_address"]').val(""),$(document).find('[name="subject"]').val(""),$(document).find('[name="message"]').val("")}))}):$.ajax(d(e))})});