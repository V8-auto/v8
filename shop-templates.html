<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Template Shop</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="assets/css/main.css" />
  <style>
    .templates-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;padding:20px}
    .card{border:1px solid #ddd;padding:12px;border-radius:6px;background:#fff}
    .thumb{height:140px;background:#f5f5f5;display:flex;align-items:center;justify-content:center;color:#888;margin-bottom:8px}
    .actions{display:flex;gap:8px;justify-content:flex-end}
    .btn{padding:8px 12px;border-radius:4px;border:0;cursor:pointer}
    .btn-primary{background:#007bff;color:#fff}
    .btn-ghost{background:#f0f0f0}
  </style>
</head>
<body>
  <header style="padding:12px 20px;border-bottom:1px solid #eee">
    <h1 style="margin:0;font-size:20px">Template Shop</h1>
  </header>

  <main>
    <section class="templates-grid" id="templatesGrid">
      <!-- 12 template cards generated by JS -->
    </section>
  </main>

  <script>
    const templates = Array.from({length:12}).map((_,i)=>({
      id: 'tpl-' + (i+1),
      title: 'Template ' + (i+1),
      description: 'Clean invoice template #' + (i+1)
    }));

    const grid = document.getElementById('templatesGrid');

    templates.forEach(t => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div class="thumb">Thumbnail ${t.id}</div>
        <h3 style="margin:6px 0">${t.title}</h3>
        <div style="color:#666;font-size:13px">${t.description}</div>
        <div class="actions" style="margin-top:8px">
          <button class="btn btn-ghost" data-id="${t.id}" onclick="previewTemplate('${t.id}')">Preview</button>
          <button class="btn btn-primary" data-id="${t.id}" onclick="buyTemplate('${t.id}')">Buy â€” $5</button>
        </div>
      `;
      grid.appendChild(card);
    });

    function buyTemplate(templateId){
      if(!confirm('Buy this template for $5?')) return;
      localStorage.setItem('purchasedTemplate', templateId);
      // optional: record purchase time
      localStorage.setItem('purchasedTemplateAt', Date.now());
      // redirect to invoice page (use invoice2.html)
      window.location.href = 'invoice2.html';
    }

    function previewTemplate(templateId){
      alert('Preview not implemented in this sample. Clicking Buy will redirect to invoice page.');
    }
  </script>
</body>
</html>